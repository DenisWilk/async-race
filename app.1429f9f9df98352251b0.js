(()=>{"use strict";var t={307:(t,n,e)=>{e.r(n)},607:function(t,n,e){var i=this&&this.__awaiter||function(t,n,e,i){return new(e||(e=Promise))((function(a,s){function c(t){try{o(i.next(t))}catch(t){s(t)}}function l(t){try{o(i.throw(t))}catch(t){s(t)}}function o(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,l)}o((i=i.apply(t,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),e(307);const a="http://localhost:3000",s=`${a}/garage`,c=`${a}/engine`;document.querySelector(".body").innerHTML='\n       <div class="blackout blackout-top"></div>\n       <div class="blackout blackout-bottom"></div>\n       <div class="garage-titles">\n           <h4 class="garage-count-title" id="garage-count-title">GARAGE:</h4>\n           <h4 class="page-count-title" id="page-count-title">PAGE:</h4>\n       </div>\n       <div class="page-btns">\n           <button class="btn page-btn garage-btn btn-inactive" id="garage-btn">GARAGE</button>\n           <button class="btn page-btn winners-btn" id="winners-btn">WINNERS</button>\n       </div>\n       <div class="control-menu">\n           <input type="text" class="input input-create" id="input-create">\n           <input type="color" class="input input-color" id="color-create">\n           <button class="btn create-btn" id="create-btn">CREATE</button>\n           <input type="text" class="input input-update input-inactive" id="input-update">\n           <input type="color" class="input input-color input-inactive" id="color-update">\n           <button class="btn update-btn btn-inactive" id="update-btn">UPDATE</button>\n           <button class="btn race-btn">RACE</button>\n           <button class="btn reset-btn btn-inactive" id="reset-btn">RESET</button>\n           <button class="btn generate-cars-btn" id="generate-cars-btn">GENERATE CARS</button>\n       </div>\n       <div class="garage" id="garage">\n       </div>\n       <div class="pagination-btns">\n           <button class="btn prev-btn" id="prev-btn">PREV</button>\n           <button class="btn next-btn" id="next-btn">NEXT</button>\n       </div>\n\n       <div class="winners-container" id="winners-container">\n       <div class="winner-titles">\n           <h4 class="garage-count-title" id="garage-count-title">WINNERS:</h4>\n           <h4 class="page-count-title" id="page-count-title">PAGE:</h4>\n       </div>\n       <div class="winners-table">\n            <ul class="winners-table-titles">\n                <li class="winners-table-title">Pos.</li>\n                <li class="winners-table-title">Car</li>\n                <li class="winners-table-title">Car Name</li>\n                <li class="winners-table-title">Wins</li>\n                <li class="winners-table-title">Best Time</li>\n            </ul>\n            <ul class="winners-items">\n                <li class="winners-item">01</li>\n                <li class="winners-item">02</li>\n                <li class="winners-item">03</li>\n                <li class="winners-item">04</li>\n                <li class="winners-item">05</li>\n                <li class="winners-item">06</li>\n                <li class="winners-item">07</li>\n                <li class="winners-item">08</li>\n                <li class="winners-item">09</li>\n                <li class="winners-item">10</li>\n            </ul>   \n       </div>\n       <div class="winners-pagination-btns">\n           <button class="btn prev-btn btn-inactive" id="winners-prev-btn">PREV</button>\n           <button class="btn next-btn btn-inactive" id="winners-next-btn">NEXT</button>\n       </div>\n       </div>\n   ';const l=document.getElementById("garage-btn"),o=document.getElementById("winners-btn"),r=document.getElementById("garage-count-title"),d=document.getElementById("page-count-title"),u=document.getElementById("create-btn"),b=document.getElementById("update-btn"),m=document.getElementById("input-create"),v=document.getElementById("input-update"),g=document.getElementById("color-create"),p=document.getElementById("color-update"),E=document.getElementById("generate-cars-btn"),h=document.getElementById("garage"),f=document.getElementById("prev-btn"),y=document.getElementById("next-btn"),B=document.getElementById("winners-container");let L,w,A=1;const M=["#DF7861","#3F4E4F","#A10035","#E4DCCF","#94B49F","#A27B5C","#87805E","#6C111A","#D6D5A8","#1B2430","#DF7861","#7C3E66","#F2EBE9","#A25B5B","#BDE6F1","#FEC260","#EC994B","#F1EEE9","#A0BCC2","#DEA057","#F8ECD1","#DEB6AB","#FF6363","#F8B400","#8E3200","#A64B2A","#D7A86E","#CDBE78","#F2F2F2","#383838","#8FBDD3","#B4ECE3","#826F66","#1C0A00","#603601","#DD4A48","#9D5353","#B91646","#EA97AD","#16697A"],T=["Claas","Kubota","Deutz-Fahr","Fendt","New Holland","Case","Belarus","Massey Ferguson","John Deere","JCB","Caterpillar","Volvo","Ford","Valtra","Lamborghini"],S=["Razorfish","StrawberryFrog","HellFire","HIMARS","Potato Hunter","SpongeBob","50 Let Oktyabrya","SpyderTractor","Cheburashka","Snow Crab","Model S","Model T","Rammstein","Machete","525","Mad Max","Slow Bird"];function $(){return i(this,void 0,void 0,(function*(){const t=yield fetch(`${s}?_page=${A}&_limit=7`);L={items:yield t.json(),count:t.headers.get("X-Total-Count")},r.innerHTML=`IN GARAGE: ${L.count}`,d.innerHTML=`PAGE: ${A}&nbsp of &nbsp${Math.ceil(L.count/7)}`,h.innerHTML="";for(let t=0;t<L.items.length;t++)h.insertAdjacentHTML("beforeend",`\n        <div class="car-container"">\n            \n            <div class="car-btns">\n                <button class="btn car-start-btn" id="start${L.items[t].id}" data-id="${L.items[t].id}">START</button>\n                <button class="btn car-stop-btn btn-inactive" id="stop${L.items[t].id}" data-id="${L.items[t].id}">STOP</button>\n                <button class="btn car-update-btn" data-id="${L.items[t].id}">UPDATE</button>\n                <button class="btn car-remove-btn" data-id="${L.items[t].id}">DELETE</button>\n                <h6 class="car-titles">${L.items[t].name}</h6>\n            </div>\n\n            <div class="svg-container">\n            <svg class="svg" id="a${L.items[t].id}" style="animation-duration: 3s;" version="1.0" xmlns="http://www.w3.org/2000/svg"\n            width="70" height="50" viewBox="0 0 403.000000 287.000000"\n            preserveAspectRatio="xMidYMid meet">\n            <g transform="translate(0.000000,287.000000) scale(0.100000,-0.100000)"\n            fill="${L.items[t].color}" stroke="none">\n            <path d="M1045 2844 c-155 -8 -391 -25 -408 -30 -15 -5 -12 -11 18 -49 l36\n            -43 -20 -119 c-29 -168 -49 -371 -57 -570 l-7 -171 -90 -32 c-108 -38 -190\n            -78 -272 -133 -64 -43 -175 -152 -175 -171 0 -6 21 -28 47 -48 l48 -37 60 58\n            c105 100 232 173 372 213 67 20 101 23 243 23 160 -1 168 -2 260 -33 113 -39\n            180 -75 277 -148 152 -116 269 -295 320 -492 31 -120 35 -307 9 -414 l-16 -68\n            35 -70 c30 -60 39 -70 58 -66 12 3 156 8 320 12 l297 6 0 67 c0 36 4 72 8 79\n            7 9 40 12 132 10 l124 -3 24 -80 c13 -44 25 -81 27 -83 1 -1 15 0 31 4 l29 5\n            0 142 c1 129 3 149 28 222 77 219 260 393 477 451 86 23 244 23 329 0 35 -9\n            66 -15 69 -12 7 8 -23 148 -59 275 -32 112 -71 201 -100 227 -48 43 -638 129\n            -984 143 l-160 6 -3 318 -2 317 -70 0 -70 0 0 -320 0 -320 -24 0 c-13 0 -31\n            -3 -39 -6 -12 -4 -16 16 -21 118 -8 136 -28 317 -51 448 -24 134 -66 300 -81\n            314 -13 14 -114 31 -269 47 -97 10 -586 19 -700 13z m285 -574 c0 -242 -1\n            -440 -2 -440 -2 1 -41 14 -88 30 -79 26 -82 29 -45 29 22 1 51 4 64 8 21 5 22\n            10 17 47 -10 65 -33 76 -153 76 l-102 0 -9 33 c-44 152 -96 316 -108 335 -11\n            17 -24 22 -55 22 -34 0 -40 -3 -35 -17 40 -142 86 -374 86 -439 l0 -41 -72 -7\n            c-40 -4 -91 -9 -112 -13 l-39 -6 7 144 c8 164 29 393 51 552 8 59 15 112 15\n            117 0 6 110 10 290 10 l290 0 0 -440z m612 434 c36 -6 37 -7 52 -78 37 -170\n            76 -445 91 -646 l6 -85 -93 93 c-54 53 -102 92 -113 92 -11 0 -45 -26 -77 -57\n            l-58 -58 -46 53 -47 53 -33 -32 -33 -32 46 -53 c35 -42 43 -57 34 -67 -8 -11\n            37 -83 199 -321 172 -252 210 -314 210 -342 l0 -34 -78 0 -78 0 -33 80 c-76\n            183 -243 376 -424 490 l-86 55 -1 448 0 447 263 0 c144 0 279 -3 299 -6z m826\n            -907 c9 -12 55 -278 49 -284 -2 -2 -25 0 -50 3 l-46 7 -11 51 c-27 128 -47\n            236 -44 238 7 8 94 -5 102 -15z m254 -26 c8 -7 52 -271 46 -277 -2 -2 -26 2\n            -53 9 l-50 12 -22 120 c-31 166 -32 156 25 149 26 -4 50 -9 54 -13z m308 -49\n            l135 -28 22 -40 c27 -46 69 -172 78 -231 l6 -41 -33 8 c-57 13 -323 83 -326\n            85 -5 4 -49 270 -45 277 2 4 9 5 16 2 7 -2 73 -17 147 -32z"/>\n            <path d="M1581 2072 c-123 -117 -148 -152 -110 -152 17 0 280 253 276 264 -9\n            28 -42 6 -166 -112z"/>\n            <path d="M2280 2655 c0 -88 1 -95 20 -95 19 0 20 7 20 95 0 88 -1 95 -20 95\n            -19 0 -20 -7 -20 -95z"/>\n            <path fill="#000000" d="M723 1683 c-30 -4 -32 -7 -36 -51 -3 -38 -5 -43 -11 -24 -10 25 -9\n            25 -60 11 -29 -8 -45 -8 -61 1 -19 10 -31 7 -76 -15 -52 -27 -169 -104 -169\n            -112 0 -2 9 -22 20 -43 21 -41 17 -54 -6 -22 -12 16 -15 15 -47 -16 -21 -21\n            -42 -32 -53 -30 -13 3 -29 -10 -52 -42 -35 -47 -82 -133 -82 -148 0 -5 18 -22\n            40 -37 42 -29 56 -54 19 -35 -11 7 -22 10 -23 8 -1 -2 -8 -23 -16 -47 -12 -37\n            -21 -46 -46 -53 -35 -9 -37 -15 -50 -140 l-6 -67 38 -6 c22 -3 48 -10 59 -15\n            18 -8 17 -9 -7 -9 -27 -1 -27 -2 -21 -52 5 -46 4 -53 -18 -69 l-23 -18 18 -59\n            c18 -55 52 -133 60 -133 2 0 23 7 46 15 50 18 50 18 50 7 0 -5 -9 -13 -20 -18\n            -20 -9 -20 -10 6 -48 24 -35 26 -43 16 -70 -12 -29 -10 -33 50 -93 34 -35 66\n            -63 70 -63 4 0 23 14 41 30 41 36 55 39 34 7 -14 -22 -13 -24 24 -45 31 -18\n            39 -28 39 -52 0 -22 7 -33 28 -44 27 -14 149 -56 162 -56 4 0 15 20 24 45 21\n            54 36 66 33 28 -2 -26 1 -28 41 -31 36 -3 47 -8 60 -33 20 -34 47 -37 163 -18\n            l69 12 0 56 c1 47 2 53 12 36 6 -11 12 -21 13 -23 1 -1 19 5 41 14 36 15 41\n            15 70 -1 32 -17 33 -17 91 18 32 20 80 55 106 79 l48 43 -30 45 c-32 47 -33\n            64 -2 36 18 -17 20 -16 46 18 22 29 34 36 61 36 29 0 37 6 60 45 14 25 34 67\n            44 94 l19 48 -35 19 c-39 21 -46 38 -10 24 20 -7 25 -5 30 13 3 12 6 32 6 44\n            0 13 11 30 25 39 24 16 25 19 25 138 0 66 -4 126 -8 133 -4 6 -28 13 -52 16\n            -37 3 -41 5 -22 11 25 10 26 15 10 67 -9 33 -9 42 6 58 16 17 15 22 -23 96\n            -22 42 -52 92 -66 111 l-26 34 -39 -20 c-50 -25 -58 -25 -35 0 18 20 18 21\n            -12 53 -24 24 -30 38 -26 58 4 21 -3 31 -54 66 -59 41 -109 69 -175 96 l-38\n            16 -26 -37 c-25 -35 -26 -36 -21 -9 2 16 0 27 -7 27 -30 0 -86 23 -86 34 0 8\n            -10 16 -22 20 -24 6 -171 6 -225 -1z m210 -348 c182 -38 345 -196 386 -375 15\n            -66 13 -187 -4 -255 -57 -216 -263 -375 -485 -375 -272 1 -500 232 -500 508 0\n            236 170 447 400 496 84 19 120 19 203 1z"/>\n            <path d="M716 1223 c-289 -88 -378 -465 -159 -674 148 -143 362 -154 523 -26\n            250 199 170 609 -136 702 -62 19 -164 18 -228 -2z m239 -108 c233 -105 237\n            -439 7 -552 -78 -38 -183 -40 -256 -4 -63 31 -122 90 -149 150 -33 71 -31 199\n            5 267 30 58 94 119 146 141 87 36 164 36 247 -2z"/>\n            <path fill="#000000" d="M3343 1243 c-18 -3 -23 -11 -23 -36 -1 -26 -2 -29 -10 -15 -9 14 -16\n            15 -40 6 -21 -7 -34 -7 -43 0 -14 12 -88 -21 -144 -64 -32 -24 -33 -26 -18\n            -55 9 -16 11 -29 6 -29 -5 0 -11 6 -14 13 -3 8 -14 4 -33 -14 -16 -15 -34 -25\n            -40 -22 -13 4 -41 -31 -73 -94 l-21 -42 32 -22 c29 -21 30 -23 11 -30 -11 -4\n            -23 -19 -27 -32 -3 -15 -15 -27 -30 -31 -25 -6 -36 -37 -36 -106 0 -39 11 -50\n            51 -50 10 0 19 -4 19 -10 0 -5 -6 -10 -14 -10 -11 0 -13 -8 -9 -33 3 -23 0\n            -37 -11 -46 -21 -17 -20 -28 5 -95 19 -49 25 -56 43 -50 12 3 30 8 41 10 18 5\n            19 4 3 -9 -16 -12 -16 -15 1 -41 11 -16 16 -37 13 -52 -3 -20 4 -35 34 -65 43\n            -44 54 -47 79 -19 22 25 40 26 26 3 -7 -14 -3 -21 20 -35 16 -10 29 -26 29\n            -38 0 -10 9 -24 21 -30 20 -11 112 -41 114 -37 0 1 8 18 17 37 14 29 17 31 17\n            13 1 -19 7 -23 35 -23 26 0 36 -5 41 -20 7 -22 51 -26 128 -14 36 6 37 8 37\n            48 1 33 3 37 11 24 9 -16 13 -17 38 -4 25 13 31 13 50 0 20 -14 25 -13 59 8\n            20 12 54 38 75 57 l37 33 -22 37 c-18 29 -19 33 -4 22 15 -13 20 -12 39 12 12\n            14 33 27 47 29 26 3 62 56 75 110 5 21 3 27 -14 33 -12 3 -21 11 -21 17 0 5 7\n            8 15 5 10 -4 16 4 21 28 3 18 12 36 19 39 18 6 28 99 18 156 -7 39 -12 46 -38\n            51 -17 4 -25 7 -18 8 7 1 10 23 9 69 -3 59 -8 76 -40 126 -38 59 -41 60 -91\n            40 -18 -7 -19 -6 -6 9 12 15 11 21 -9 42 -13 13 -20 31 -17 39 7 18 -54 63\n            -135 101 l-53 24 -22 -27 c-19 -23 -21 -24 -17 -6 5 18 0 23 -29 28 -19 4 -38\n            13 -41 21 -4 12 -22 15 -78 14 -40 -1 -83 -4 -95 -6z m214 -265 c107 -39 202\n            -161 221 -281 38 -244 -178 -463 -412 -417 -83 16 -143 49 -198 108 -86 92\n            -119 197 -98 315 15 77 40 127 97 188 101 108 246 141 390 87z"/>\n            <path d="M3342 915 c-79 -24 -133 -72 -178 -155 -28 -52 -26 -190 3 -246 34\n            -65 70 -101 127 -129 72 -35 138 -42 211 -20 80 23 166 107 189 185 34 114 11\n            206 -74 290 -82 82 -175 107 -278 75z m149 -66 c121 -37 184 -185 128 -304\n            -63 -134 -236 -167 -343 -67 -90 84 -87 249 5 326 65 55 130 69 210 45z"/>\n            </g>\n            </svg>\n            </div>\n        </div>\n        `);document.querySelectorAll(".car-start-btn").forEach((t=>t.addEventListener("click",P))),document.querySelectorAll(".car-stop-btn").forEach((t=>t.addEventListener("click",k))),document.querySelectorAll(".car-update-btn").forEach((t=>t.addEventListener("click",C))),document.querySelectorAll(".car-remove-btn").forEach((t=>t.addEventListener("click",D)))}))}function C(t){t.target instanceof HTMLButtonElement&&(w=Number(t.target.dataset.id),v.focus(),b.classList.remove("btn-inactive"),v.classList.remove("input-inactive"),p.classList.remove("input-inactive"),b.addEventListener("click",F))}function F(){return i(this,void 0,void 0,(function*(){const t={name:v.value,color:p.value};yield fetch(`${s}/${w}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),yield $(),b.removeEventListener("click",F),v.value="",b.classList.add("btn-inactive"),v.classList.add("input-inactive"),p.classList.add("input-inactive")}))}function D(t){return i(this,void 0,void 0,(function*(){t.target instanceof HTMLButtonElement&&(w=Number(t.target.dataset.id),yield fetch(`${s}/${w}`,{method:"DELETE"}),Math.ceil((L.count-1)/7)<A&&(A>1?A-=1:A=1),yield $())}))}function I(){const t=M[Math.floor(Math.random()*M.length)];return{name:`${T[Math.floor(Math.random()*T.length)]}&nbsp/&nbsp\n                  ${S[Math.floor(Math.random()*S.length)]}`,color:t}}function P(t){return i(this,void 0,void 0,(function*(){if(!(t.target instanceof HTMLButtonElement))return;w=Number(t.target.dataset.id);const n=document.getElementById(`stop${String(w)}`),e=document.getElementById(`a${String(w)}`);t.target.classList.add("btn-inactive"),n.classList.remove("btn-inactive"),setTimeout((()=>e.classList.add("svg-move")),0),yield fetch(`${c}?id=${w}&status=started`,{method:"PATCH"}),yield function(){return i(this,void 0,void 0,(function*(){const t=yield fetch(`${c}?id=${w}&status=drive`,{method:"PATCH"}).catch();return 200!==t.status?{success:!1}:Object.assign({},yield t.json())}))}()}))}function k(t){return i(this,void 0,void 0,(function*(){if(!(t.target instanceof HTMLButtonElement))return;w=Number(t.target.dataset.id);const n=document.getElementById(`start${String(w)}`),e=document.getElementById(`a${String(w)}`);t.target.classList.add("btn-inactive"),n.classList.remove("btn-inactive"),yield fetch(`${c}?id=${w}&status=stopped`,{method:"PATCH"}),e.classList.remove("svg-move")}))}o.addEventListener("click",(function(){B.classList.add("active"),o.classList.add("btn-inactive"),l.classList.remove("btn-inactive")})),l.addEventListener("click",(function(){B.classList.remove("active"),o.classList.remove("btn-inactive"),l.classList.add("btn-inactive")})),$(),u.addEventListener("click",(function(){return i(this,void 0,void 0,(function*(){const t={name:m.value,color:g.value};""===m.value&&(t.name="no name"),yield fetch(s,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),yield $(),m.value=""}))})),E.addEventListener("click",(function(){return i(this,void 0,void 0,(function*(){for(let t=0;t<100;t++)yield fetch(s,{method:"POST",body:JSON.stringify(I()),headers:{"Content-Type":"application/json"}}),yield $()}))})),y.addEventListener("click",(function(){A===Math.ceil(L.count/7)||L.count<1||(A+=1,$())})),f.addEventListener("click",(function(){1!==A&&(A-=1,$())}))}},n={};function e(i){var a=n[i];if(void 0!==a)return a.exports;var s=n[i]={exports:{}};return t[i].call(s.exports,s,s.exports,e),s.exports}e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(607)})();